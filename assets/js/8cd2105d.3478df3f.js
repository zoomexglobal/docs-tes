"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8354],{5680:(e,t,n)=>{n.d(t,{xA:()=>m,yg:()=>y});var a=n(6540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),d=p(n),g=r,y=d["".concat(l,".").concat(g)]||d[g]||u[g]||i;return n?a.createElement(y,o(o({ref:t},m),{},{components:n})):a.createElement(y,o({ref:t},m))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},8378:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var a=n(8168),r=(n(6540),n(5680));const i={title:"Introduction",sidebar_name:"Introduction"},o=void 0,s={unversionedId:"v3/intro",id:"v3/intro",title:"Introduction",description:"Zoomex V3 Open API allow users to select different collections to build their API model.",source:"@site/docs/v3/intro.mdx",sourceDirName:"v3",slug:"/v3/intro",permalink:"/docs-tes/v3/intro",draft:!1,tags:[],version:"current",frontMatter:{title:"Introduction",sidebar_name:"Introduction"},sidebar:"v3SideBar",next:{title:"Copy Trade",permalink:"/docs-tes/category/copy-trade"}},l={},p=[{value:"Authentication",id:"authentication",level:2},{value:"Parameters for Authenticated Endpoints",id:"parameters-for-authenticated-endpoints",level:2},{value:"Create A Request",id:"create-a-request",level:2},{value:"Signature method 1: Signature in the request header",id:"signature-method-1-signature-in-the-request-header",level:3},{value:"Signature method 2: Signature in the request body",id:"signature-method-2-signature-in-the-request-body",level:3},{value:"Common response parameters",id:"common-response-parameters",level:2}],m={toc:p},d="wrapper";function u(e){let{components:t,...n}=e;return(0,r.yg)(d,(0,a.A)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"Zoomex V3 Open API allow users to select different collections to build their API model."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Copy Trade:")," You must be ",(0,r.yg)("strong",{parentName:"li"},"Master Trader")," to use this API.")),(0,r.yg)("h2",{id:"authentication"},"Authentication"),(0,r.yg)("admonition",{type:"info"},(0,r.yg)("p",{parentName:"admonition"},"Please visit Zoomex's ",(0,r.yg)("a",{href:"https://testnet.zoomex.com/en-US/user-center/api-manage"}," ",(0,r.yg)("b",null,"testnet"))," or ",(0,r.yg)("a",{href:"https://www.zoomex.com/en-US/user-center/api-manage"}," ",(0,r.yg)("b",null,"mainnet"))," to generate an API key")),(0,r.yg)("p",null,"REST API Base Endpoint:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Testnet:"),(0,r.yg)("br",null),(0,r.yg)("a",{parentName:"li",href:"https://openapi-testnet.zoomex.com"},"https://openapi-testnet.zoomex.com")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Mainnet"),":",(0,r.yg)("br",null),(0,r.yg)("a",{parentName:"li",href:"https://openapi.zoomex.com"},"https://openapi.zoomex.com"))),(0,r.yg)("admonition",{type:"caution"},(0,r.yg)("ul",{parentName:"admonition"},(0,r.yg)("li",{parentName:"ul"},"All requests made to ",(0,r.yg)("strong",{parentName:"li"},"private")," endpoints MUST be authenticated."),(0,r.yg)("li",{parentName:"ul"},"Requests made to ",(0,r.yg)("strong",{parentName:"li"},"public")," endpoints DO NOT require additional authentication."))),(0,r.yg)("h2",{id:"parameters-for-authenticated-endpoints"},"Parameters for Authenticated Endpoints"),(0,r.yg)("p",null,"The following parameters must be used for authentication:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"api_key")," - api key"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"timestamp")," - UTC timestamp in milliseconds"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"sign")," - a signature derived from the request's parameters",(0,r.yg)("br",null))),(0,r.yg)("p",null,"We also provide ",(0,r.yg)("inlineCode",{parentName:"p"},"recv_window")," (unit in millisecond and default value is 5,000) to specify how long an HTTP request is valid. It is also used to prevent replay attacks."),(0,r.yg)("p",null,"A smaller ",(0,r.yg)("inlineCode",{parentName:"p"},"recv_window")," is more secure, but your request may fail if the transmission time is greater than your ",(0,r.yg)("inlineCode",{parentName:"p"},"recv_window"),"."),(0,r.yg)("admonition",{type:"caution"},(0,r.yg)("p",{parentName:"admonition"},"Please make sure that the timestamp parameter adheres to the ",(0,r.yg)("strong",{parentName:"p"},"following rule"),":",(0,r.yg)("br",null),"\n",(0,r.yg)("em",{parentName:"p"},"server_time - recv_window <= timestamp < server_time + 1000"),(0,r.yg)("br",null),"\nserver_time stands for Zoomex server time, which can be queried via the ",(0,r.yg)("a",{parentName:"p",href:"../v3/market/time#"},"Server Time endpoint"),".")),(0,r.yg)("h2",{id:"create-a-request"},"Create A Request"),(0,r.yg)("admonition",{type:"tip"},(0,r.yg)("ul",{parentName:"admonition"},(0,r.yg)("li",{parentName:"ul"},"Due to historical reasons, there are two signature methods: ",(0,r.yg)("a",{parentName:"li",href:"./intro#signature-method-1-signature-in-the-request-header"},"Signature in the request header")," and ",(0,r.yg)("a",{parentName:"li",href:"./intro#signature-method-2-signature-in-the-request-body"},"Signature in the request body"),". For which signature method to use, please refer to the specific interface request demo."),(0,r.yg)("li",{parentName:"ul"},"To assist in diagnosing advanced network problems, you may consider adding ",(0,r.yg)("inlineCode",{parentName:"li"},"cdn-request-id")," to your request headers. Its value should be unique for each request."))),(0,r.yg)("h3",{id:"signature-method-1-signature-in-the-request-header"},"Signature method 1: Signature in the request header"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Basic steps:")),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"timestamp + API key + (recv_window) + (queryString | jsonBodyString)")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Use the HMAC_SHA256 or RSA_SHA256 algorithm to sign the string in step 1, and convert it to a hex string (HMAC_SHA256) / base64 (RSA_SHA256) to obtain the sign parameter.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Append the sign parameter to request header, and send the HTTP request. Note: the plain text for GET and POST requests is different. Please refer to blew examples.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Demo"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-python"},'import requests\nimport time\nimport hashlib\nimport hmac\nimport uuid\n\napi_key=\'XXXXXXXX\'\nsecret_key=\'XXXXXXXX\'\nhttpClient=requests.Session()\nrecv_window=str(5000)\nurl="https://openapi-testnet.zoomex.com"\n\ndef HTTP_Request(endPoint,method,payload,Info):\n   global time_stamp\n   time_stamp=str(int(time.time() * 10 ** 3))\n   signature=genSignature(payload)\n   headers = {\n       \'X-BAPI-API-KEY\': api_key,\n       \'X-BAPI-SIGN\': signature,\n       \'X-BAPI-SIGN-TYPE\': \'2\',\n       \'X-BAPI-TIMESTAMP\': time_stamp,\n       \'X-BAPI-RECV-WINDOW\': recv_window,\n       \'Content-Type\': \'application/json\'\n   }\n   if(method=="POST"):\n       response = httpClient.request(method, url+endPoint, headers=headers, data=payload)\n   else:\n       response = httpClient.request(method, url+endPoint+"?"+payload, headers=headers)\n   print(response.text)\n   print(Info + " Elapsed Time : " + str(response.elapsed))\ndef genSignature(payload):\n   param_str= time_stamp+ api_key + recv_window + payload\n   hash = hmac.new(bytes(secret_key, "utf-8"), param_str.encode("utf-8"),hashlib.sha256)\n   signature = hash.hexdigest()\n   return signature\n\n#POST Create Order\nendpoint="/cloud/trade/v3/order/create"\nmethod="POST"\norderLinkId=uuid.uuid4().hex\nparams=\'{"category":"linear","symbol": "BTCUSDT","side": "Buy","positionIdx": 0,"orderType": "Market","qty": "0.001","price": "","timeInForce": "GTC","orderLinkId": "\' + orderLinkId + \'"}\'\nHTTP_Request(endpoint,method,params,"Create")\n\n#GET history Orders\nendpoint="/cloud/trade/v3/order/history"\nmethod="GET"\nparams=\'category=linear&symbol=BTCUSDT\'\nHTTP_Request(endpoint,method,params,"history")\n')))),(0,r.yg)("h3",{id:"signature-method-2-signature-in-the-request-body"},"Signature method 2: Signature in the request body"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Basic steps:")),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Concatenate all the public parameters in the ",(0,r.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Query_string"},"query string")," format. The parameters must be ordered in ",(0,r.yg)("strong",{parentName:"p"},"alphabetical")," order. This will be used to generate the ",(0,r.yg)("inlineCode",{parentName:"p"},"sign"),"."),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"For example"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-shell"},'orderedParams = "api_key=XXXXXXXXXXX&buy_leverage=100&sell_leverage=110&symbol=BTCUSDT&timestamp=1542434791747"\n'))))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Use the HMAC_SHA256 algorithm to sign the query string in step 1, and convert it to a hex string to obtain the sign parameter."),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Calculate the signature (take ",(0,r.yg)("inlineCode",{parentName:"p"},"nodejs")," as an example)"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-node"},"sign = cryptoJS.HmacSHA256(orderedParams, secret).toString(cryptoJS.enc.Hex)\n"))))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Append the sign parameter to the end of the parameters string, and send the HTTP request. Note that the message format for GET and POST requests is different. Please refer to the examples."),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"GET request example"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"GET /user/leverage?api_key=XXXXXXXXXXX&timestamp=1542434791000&sign=670e3e4aa32b243f2dedf1dafcec2fd17a440e71b05681550416507de591d908 HTTP/1.1\nHost: openapi-testnet.zoomex.com\n"))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"POST request example"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-shell"},'POST /user/leverage/save HTTP/1.1\nHost: openapi-testnet.zoomex.com\nContent-Type: application/json\n\n{\n    "api_key": "XXXXXXXXXXX",\n    "leverage": 100,\n    "symbol": "BTCUSD",\n    "timestamp": 1542434791000,\n    "sign": "670e3e4aa32b243f2dedf1dafcec2fd17a440e71b05681550416507de591d908"\n}\n')))))),(0,r.yg)("h2",{id:"common-response-parameters"},"Common response parameters"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:"left"},"Parameter"),(0,r.yg)("th",{parentName:"tr",align:"left"},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Comments"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"left"},"ret_code / retCode"),(0,r.yg)("td",{parentName:"tr",align:"left"},"number"),(0,r.yg)("td",{parentName:"tr",align:null},"Success/Error code")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"left"},"ret_msg / retMsg"),(0,r.yg)("td",{parentName:"tr",align:"left"},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"Success/Error msg. Can be ",(0,r.yg)("inlineCode",{parentName:"td"},"OK"),",",(0,r.yg)("inlineCode",{parentName:"td"},"success"),",",(0,r.yg)("inlineCode",{parentName:"td"},"Success")," for Success message")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"left"},"result"),(0,r.yg)("td",{parentName:"tr",align:"left"},"Object"),(0,r.yg)("td",{parentName:"tr",align:null},"Business data result")))),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},'{\n    "retCode": 0,\n    "retMsg": "success",\n    "result": {}\n}\n')),(0,r.yg)("admonition",{type:"tip"},(0,r.yg)("ul",{parentName:"admonition"},(0,r.yg)("li",{parentName:"ul"},"Due to historical reasons, the attributes returned in the list object of the result object in the response body of the ","[Get Open Orders(real-time)]"," (./order/open order/#) start with uppercase letters. Please be careful when docking!"))))}u.isMDXComponent=!0}}]);